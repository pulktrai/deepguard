<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>DeepGuard - AI Deepfake Detection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0d1117; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-thumb { background-color: #1a202c; border-radius: 10px; }
        ::-webkit-scrollbar-track { background-color: #0d1117; }

        @keyframes pulse-ring {
            0% { transform: scale(0.3); opacity: 0.8; }
            100% { transform: scale(2); opacity: 0; }
        }
        .deepfake-ring-animation { animation: pulse-ring 1.5s cubic-bezier(0.0,0.0,0.2,1) infinite; }

        .gradient-text {
            background-image: linear-gradient(to right, #6EE7B7, #3B82F6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .loading-bar { width: 0; transition: width 0.3s ease-in-out; }
    </style>
</head>
<body class="min-h-screen text-white">
    <header class="p-6 border-b border-gray-800 shadow-lg sticky top-0 bg-[#0d1117] z-10">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <h1 class="text-3xl font-extrabold tracking-tight gradient-text">DeepGuard</h1>
            <nav class="hidden md:flex space-x-6 text-sm text-gray-400">
                <a href="#detector" class="hover:text-cyan-400 transition">Detector</a>
                <a href="#about" class="hover:text-cyan-400 transition">Technology</a>
                <a href="#" class="hover:text-cyan-400 transition">Docs (API)</a>
                <a href="#" class="font-semibold text-cyan-300 hover:text-cyan-500 transition">Research Paper</a>
            </nav>
        </div>
    </header>

    <main class="p-4 md:p-10 max-w-7xl mx-auto space-y-12">
        <section id="detector" class="text-center py-16 md:py-24 bg-gray-900/50 rounded-xl shadow-2xl border border-gray-700/50">
            <h2 class="text-4xl md:text-6xl font-black mb-4">Verify <span class="gradient-text">Digital Truth.</span></h2>
            <p class="text-gray-400 max-w-2xl mx-auto mb-10 text-lg">
                Upload an image below to instantly analyze its authenticity using our multi-model AI system.
            </p>

            <div id="drop-area" class="max-w-lg mx-auto p-8 border-4 border-dashed border-cyan-700/50 rounded-2xl transition hover:border-cyan-500/70 cursor-pointer bg-gray-900/70"
                 ondragover="handleDragOver(event);"
                 ondragleave="handleDragLeave(event);"
                 ondrop="handleDrop(event);"
                 onclick="document.getElementById('file-input').click();">
                <svg class="mx-auto h-12 w-12 text-cyan-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path>
                </svg>
                <p class="mt-2 text-sm text-gray-300 font-semibold">Drag and drop your image (JPG, PNG) or Click to Upload</p>
                <p class="text-xs text-gray-500 mt-1">Max file size: 10MB</p>
                <input type="file" id="file-input" accept="image/jpeg,image/png" class="hidden" onchange="handleFileSelect(event);">
            </div>

            <div id="message-box" class="mt-4 text-sm font-medium"></div>
        </section>

        <section id="results-section" class="hidden">
            <h3 class="text-3xl font-bold mb-8 border-b border-gray-800 pb-3">Analysis Report</h3>

            <div id="processing-view" class="hidden flex flex-col items-center justify-center p-12 bg-gray-800 rounded-xl shadow-inner">
                <div class="relative flex h-16 w-16 mb-6">
                    <span class="deepfake-ring-animation absolute inline-flex h-full w-full rounded-full bg-cyan-500 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-16 w-16 bg-cyan-600 items-center justify-center text-xl font-bold">AI</span>
                </div>
                <p class="text-xl font-semibold text-cyan-400 mb-4">Scanning Image for Digital Fingerprints...</p>
                <div class="w-full max-w-md bg-gray-700 rounded-full h-2.5">
                    <div id="loading-bar" class="loading-bar h-2.5 rounded-full bg-cyan-500" style="width: 1%;"></div>
                </div>
                <p id="processing-status" class="mt-2 text-sm text-gray-500">Initializing detection models...</p>
            </div>

            <div id="result-view" class="hidden grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1 p-8 bg-gray-800 rounded-xl shadow-lg border border-gray-700 flex flex-col items-center">
                    <p class="text-sm uppercase text-gray-400 font-semibold mb-2">Manipulation Probability Score</p>
                    <div id="score-ring" class="relative w-48 h-48 flex items-center justify-center mb-6">
                        <div id="final-score" class="text-7xl font-extrabold z-10">--</div>
                        <div class="text-xl text-gray-400 absolute bottom-6 right-8 z-10">%</div>
                        <svg class="absolute w-full h-full transform -rotate-90" viewBox="0 0 100 100">
                            <circle cx="50" cy="50" r="45" fill="none" stroke="#2D3748" stroke-width="6"></circle>
                            <circle id="score-circle" cx="50" cy="50" r="45" fill="none" stroke="#1A56DB" stroke-width="6" stroke-linecap="round" stroke-dashoffset="283"></circle>
                        </svg>
                    </div>
                    <div id="result-verdict" class="text-3xl font-bold p-3 rounded-lg"></div>
                    <p class="text-gray-500 mt-2 text-center text-sm">Score is based on an ensemble of models and internal heuristics.</p>
                </div>

                <div class="lg:col-span-2 space-y-8">
                    <!-- Visual Content Analysis block removed -->

                    <div class="p-6 bg-gray-800 rounded-xl shadow-lg border border-gray-700">
                        <h4 class="text-xl font-semibold mb-4 text-cyan-400">Deepfake Model Indicators</h4>
                        <dl class="space-y-4">
                            <div id="model-results"></div>
                            <div class="pt-4 border-t border-gray-700">
                                <dt class="font-medium text-gray-300">File Metadata</dt>
                                <dd class="text-gray-500 text-sm" id="file-metadata"></dd>
                            </div>
                        </dl>
                    </div>
                </div>
            </div>

            <div class="mt-8 p-4 bg-yellow-900/30 text-yellow-300 rounded-lg text-sm border border-yellow-800">
                <p>‚ö†Ô∏è <strong>Disclaimer:</strong> This is a simulated report for demonstration. Real-world detection requires active API calls.</p>
                <p class="mt-2 text-xs text-gray-400">API Key Used: <span id="api-key-display"></span></p>
            </div>
        </section>

        <section id="about" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <span class="text-cyan-400 uppercase text-sm font-bold tracking-widest">Our Edge</span>
                <h3 class="text-4xl md:text-5xl font-extrabold mt-2">The Multi-Model Advantage</h3>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-6 bg-gray-900 rounded-xl shadow-xl border border-gray-800/70">
                    <div class="text-cyan-400 text-4xl mb-3">
                        <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                    </div>
                    <h4 class="text-xl font-bold mb-2">Proprietary Fingerprints</h4>
                    <p class="text-gray-400 text-sm">We analyze subtle artifacts and inconsistencies left by generative models.</p>
                </div>
                <div class="p-6 bg-gray-900 rounded-xl shadow-xl border border-gray-800/70">
                    <div class="text-cyan-400 text-4xl mb-3">
                        <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    </div>
                    <h4 class="text-xl font-bold mb-2">Real-Time Scoring</h4>
                    <p class="text-gray-400 text-sm">Low-latency scoring providing a clear probability of manipulation in seconds.</p>
                </div>
                <div class="p-6 bg-gray-900 rounded-xl shadow-xl border border-gray-800/70">
                    <div class="text-cyan-400 text-4xl mb-3">
                        <svg class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354v15.3l-2-2m2 2l2-2M12 4.354a7 7 0 110 15.3M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                    <h4 class="text-xl font-bold mb-2">Platform Agnostic</h4>
                    <p class="text-gray-400 text-sm">Detects content generated by major generative platforms and custom GANs.</p>
                </div>
            </div>
        </section>
    </main>

    <script>
        // --- CONFIG ---
        const API_KEY = "rd_f2608f0a3a8be3a8_b27e4b8981ecc70348d70d89f15a3011";
        const MAX_FILE_SIZE_MB = 10;
        const API_BASE_URL = "https://api.prd.realitydefender.xyz";

        // DOM
        const dropArea = document.getElementById('drop-area');
        const messageBox = document.getElementById('message-box');
        const resultsSection = document.getElementById('results-section');
        const processingView = document.getElementById('processing-view');
        const resultView = document.getElementById('result-view');
        const loadingBar = document.getElementById('loading-bar');
        const processingStatus = document.getElementById('processing-status');
        const finalScore = document.getElementById('final-score');
        const resultVerdict = document.getElementById('result-verdict');
        const modelResultsContainer = document.getElementById('model-results');
        const fileMetadataDisplay = document.getElementById('file-metadata');
        const apiKeyDisplay = document.getElementById('api-key-display');
        const scoreCircle = document.getElementById('score-circle');

        apiKeyDisplay.textContent = API_KEY.substring(0, 10) + '...' + API_KEY.substring(API_KEY.length - 10);

        // Drag & drop
        function handleDragOver(e) {
            e.preventDefault();
            dropArea.classList.add('border-cyan-500', 'bg-gray-700/70');
            dropArea.classList.remove('border-cyan-700/50', 'bg-gray-900/70');
        }
        function handleDragLeave(e) {
            e.preventDefault();
            dropArea.classList.remove('border-cyan-500', 'bg-gray-700/70');
            dropArea.classList.add('border-cyan-700/50', 'bg-gray-900/70');
        }
        function handleDrop(e) {
            e.preventDefault();
            handleDragLeave(e);
            const file = e.dataTransfer.files[0];
            if (file) processFile(file);
        }
        function handleFileSelect(e) {
            const file = e.target.files[0];
            if (file) processFile(file);
        }

        function processFile(file) {
            messageBox.innerHTML = '';
            resultsSection.classList.add('hidden');
            resultView.classList.add('hidden');

            if (!file.type.startsWith('image/')) {
                showMessage("‚ùå Please upload a valid image file (JPG, PNG).", 'text-red-400');
                return;
            }
            if (file.size > MAX_FILE_SIZE_MB * 1024 * 1024) {
                showMessage(`‚ö†Ô∏è File size exceeds the maximum limit of ${MAX_FILE_SIZE_MB}MB.`, 'text-yellow-400');
                return;
            }

            showMessage(`‚úÖ File selected: ${file.name}. Starting deepfake scan...`, 'text-cyan-400');

            resultsSection.classList.remove('hidden');
            processingView.classList.remove('hidden');

            simulateDeepfakeDetection(file);
        }

        function simulateDeepfakeDetection(file) {
            const steps = [
                { text: "1. Preparing analysis...", duration: 800, width: 15 },
                { text: "2. Uploading to secure endpoint...", duration: 700, width: 35 },
                { text: `3. Analyzing ${file.name} for artifacts...`, duration: 1100, width: 65 },
                { text: "4. Running ensemble models...", duration: 900, width: 85 },
                { text: "5. Finalizing risk score...", duration: 500, width: 95 }
            ];

            const executeStep = (index) => {
                if (index < steps.length) {
                    const step = steps[index];
                    processingStatus.textContent = step.text;
                    loadingBar.style.width = step.width + '%';
                    setTimeout(() => executeStep(index + 1), step.duration);
                } else {
                    setTimeout(() => displayResults(file), 400);
                }
            };
            executeStep(0);
        }

        function displayResults(file) {
            processingView.classList.add('hidden');
            resultView.classList.remove('hidden');

            // generate biased score
            let score;
            const bias = Math.random();
            if (bias < 0.85) score = Math.floor(Math.random() * 25);
            else score = Math.floor(Math.random() * (99 - 25) + 25);

            let verdict, colorClass, baseColor;
            if (score < 25) {
                verdict = "Authentic";
                colorClass = "text-emerald-400 bg-emerald-900/50";
                baseColor = "#10B981";
            } else if (score < 60) {
                verdict = "Low Risk / Modified";
                colorClass = "text-yellow-400 bg-yellow-900/50";
                baseColor = "#F59E0B";
            } else {
                verdict = "High Risk / Deepfake";
                colorClass = "text-red-400 bg-red-900/50";
                baseColor = "#EF4444";
            }

            // Mock model results
            const mockModels = [
                { name: "Artifact Consistency Model", score: Math.min(99, score + Math.floor(Math.random() * 10 - 5)), indicator: score > 50 ? "Inconsistencies detected." : "No significant artifacts found." },
                { name: "Face Liveness Check", score: Math.min(99, score + Math.floor(Math.random() * 10 - 5)), indicator: score > 70 ? "Unnatural liveness indicators present." : "Liveness indicators within acceptable range." },
                { name: "Diffusion Model Fingerprint", score: Math.min(99, score + Math.floor(Math.random() * 10 - 5)), indicator: score > 40 ? "Pattern match suggests generative AI." : "No strong generative signature found." },
                { name: "Pixel Correlation Model", score: Math.min(99, score + Math.floor(Math.random() * 10 - 5)), indicator: score > 65 ? "Statistical anomalies indicate manipulation." : "Image statistics appear normal." },
            ];

            finalScore.textContent = score;
            resultVerdict.textContent = verdict;
            resultVerdict.className = `text-3xl font-bold p-3 rounded-xl ${colorClass}`;

            const circumference = 2 * Math.PI * 45;
            const offset = circumference - (score / 100) * circumference;
            scoreCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            scoreCircle.style.strokeDashoffset = offset;
            scoreCircle.style.stroke = baseColor;

            modelResultsContainer.innerHTML = mockModels.map(model => {
                const icon = model.score > 60 ? '<span class="text-red-500 mr-2">üö®</span>' : model.score > 30 ? '<span class="text-yellow-500 mr-2">üü°</span>' : '<span class="text-emerald-500 mr-2">üü¢</span>';
                return `
                    <div class="flex justify-between items-start pb-3 border-b border-gray-900 last:border-b-0">
                        <div>
                            <dt class="font-medium text-gray-300 flex items-center">${icon}${model.name}</dt>
                            <dd class="text-gray-500 text-xs ml-6">${model.indicator}</dd>
                        </div>
                        <dd class="font-bold text-lg">${model.score}%</dd>
                    </div>
                `;
            }).join('');

            fileMetadataDisplay.innerHTML = `
                Name: ${file.name}<br>
                Size: ${(file.size / (1024 * 1024)).toFixed(2)} MB<br>
                Type: ${file.type}<br>
                Last Modified: ${new Date(file.lastModified).toLocaleString()}
            `;

            document.getElementById('results-section').scrollIntoView({ behavior: 'smooth' });
            showMessage(`Scan complete. Verdict: ${verdict}.`, 'text-white');
        }

        function showMessage(text, color) {
            messageBox.innerHTML = `<span class="${color} font-bold">${text}</span>`;
        }
    </script>
</body>
</html>
```
